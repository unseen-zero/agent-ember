# SwarmClaw

Self-hosted AI agent orchestration dashboard. Manage multiple AI providers, orchestrate agent swarms, schedule tasks, and bridge agents to chat platforms — all from a single mobile-friendly interface.

Inspired by [OpenClaw](https://github.com/openclaw).

**[Documentation](https://swarmclaw.ai/docs)** | **[Website](https://swarmclaw.ai)**

![Dashboard](public/screenshots/dashboard.png)
![Agent Builder](public/screenshots/agents.png)
![Task Board](public/screenshots/tasks.png)

## Security Warning

SwarmClaw can spawn **Claude Code CLI** processes with full shell access on your machine. This means agents can read, write, and execute anything your user account can. **Do not run this on a shared server or expose it to the public internet without understanding the risks.**

- Always use the access key authentication (generated on first run)
- Never expose port 3456 without a reverse proxy + TLS
- Review agent system prompts before giving them shell or browser tools

## Features

- **Multi-Provider Chat** — Claude CLI, OpenAI, Anthropic API, Ollama, OpenClaw, and custom OpenAI-compatible endpoints (OpenRouter, Together, Groq, etc.)
- **OpenClaw Integration** — Connect to remote [OpenClaw](https://github.com/openclaw/openclaw) instances as providers. Control a swarm of autonomous AI agents from a single dashboard
- **Agent Builder** — Create agents with custom personalities (soul), system prompts, tools, and skills
- **Agent Tools** — Shell, files, edit file (search & replace), web search (DuckDuckGo), web fetch, Claude Code delegation, and Playwright browser automation
- **Orchestration** — Multi-agent workflows powered by LangGraph with automatic sub-agent routing
- **Task Board** — Queue and track agent tasks with status, comments, and results
- **Background Daemon** — Auto-processes queued tasks and scheduled jobs with a 30s heartbeat
- **Scheduling** — Cron-based agent scheduling with human-friendly presets
- **Chat Connectors** — Bridge agents to Discord, Slack, Telegram, and WhatsApp
- **Skills System** — Discover skills from `~/.claude/skills/` and assign them to agents
- **Memory** — Per-agent and per-session memory with hybrid FTS5 + vector embeddings search
- **Cost Tracking** — Per-message token counting and cost estimation displayed in the chat header
- **Model Failover** — Automatic key rotation on rate limits and auth errors with configurable fallback credentials
- **Plugin System** — Extend agent behavior with JS plugins (hooks: beforeAgentStart, afterAgentComplete, beforeToolExec, afterToolExec, onMessage)
- **Secrets Vault** — Encrypted storage for API keys and service tokens
- **Custom Providers** — Add any OpenAI-compatible API as a provider
- **Mobile-First UI** — Responsive glass-themed dark interface, works on phone and desktop

## Requirements

- **Node.js** 20+
- **npm** 10+
- **Claude Code CLI** (optional, for `claude-cli` provider) — [Install](https://docs.anthropic.com/en/docs/claude-code/overview)

## Quick Start

```bash
curl -fsSL https://swarmclaw.ai/install.sh | bash
```

Or manually:

```bash
git clone https://github.com/swarmclawai/swarmclaw.git
cd swarmclaw
npm install
npm run dev
```

On first launch, SwarmClaw will:
1. Generate an **access key** and display it in the terminal
2. Save it to `.env.local`
3. Show a first-time setup screen in the browser with the key to copy

Open `http://localhost:3456` (or your machine's IP for mobile access). Enter the access key, set your name, and you're in.

## Configuration

All config lives in `.env.local` (auto-generated):

```
ACCESS_KEY=<your-access-key>       # Auth key for the dashboard
CREDENTIAL_SECRET=<auto-generated> # AES-256 encryption key for stored credentials
```

Data is stored in `data/swarmclaw.db` (SQLite with WAL mode) and `data/memory.db` (agent memory with FTS5 + vector embeddings). Back the `data/` directory up if you care about your sessions, agents, and credentials. Existing JSON file data is auto-migrated to SQLite on first run.

## Architecture

```
src/
├── app/
│   ├── api/          # Next.js API routes (REST + SSE streaming)
│   └── page.tsx      # Auth flow → UserPicker → AppLayout
├── components/
│   ├── agents/       # Agent builder UI
│   ├── auth/         # Access key gate + user picker
│   ├── chat/         # Message rendering, streaming, code blocks
│   ├── connectors/   # Discord/Slack/Telegram/WhatsApp config
│   ├── layout/       # App shell, sidebar, mobile header
│   ├── providers/    # Provider management
│   ├── schedules/    # Cron scheduler
│   ├── sessions/     # Session list + new session
│   ├── skills/       # Skills manager
│   ├── tasks/        # Task board
│   └── shared/       # Reusable UI (BottomSheet, IconButton, etc.)
├── lib/
│   ├── providers/    # LLM provider implementations
│   └── server/       # Storage, orchestrator, connectors, tools
├── stores/           # Zustand state (app store, chat store)
└── types/            # TypeScript interfaces
```

**Stack:** Next.js 16, React 19, Tailwind v4, shadcn/ui, Zustand, LangGraph, TypeScript

## Providers

| Provider | Type | Notes |
|-|-|-|
| Claude CLI | Subprocess | Spawns `claude` with `--output-format stream-json`. Requires Claude Code installed. |
| Anthropic | API | Direct API calls. Requires API key. |
| OpenAI | API | GPT-4o, o3, o4-mini, etc. Requires API key. |
| OpenClaw | Remote Agent | Connects to a remote [OpenClaw](https://github.com/openclaw/openclaw) instance via its `/v1` API. |
| Ollama | Local | Connects to `localhost:11434`. No API key needed. |
| Custom | API | Any OpenAI-compatible endpoint. Add via Providers sidebar. |

### OpenClaw

[OpenClaw](https://github.com/openclaw/openclaw) is an open-source autonomous AI agent that runs on your own devices. SwarmClaw has first-class OpenClaw support — add any number of remote OpenClaw instances as providers and orchestrate them all from one place.

To connect an OpenClaw instance:

1. Enable the HTTP endpoint in your OpenClaw config (`gateway.http.endpoints.chatCompletions.enabled: true`)
2. In SwarmClaw, select **OpenClaw** as the provider when creating a session or agent
3. Enter the endpoint URL (e.g. `http://192.168.1.50:18789/v1`)
4. Optionally add a Bearer token if your OpenClaw instance requires authentication

Each agent can point to a different OpenClaw instance — this is how you manage a **swarm of OpenClaws** from a single dashboard.

## Chat Connectors

Bridge any agent to a chat platform:

| Platform | Library | Setup |
|-|-|-|
| Discord | discord.js | Bot token + channel IDs |
| Slack | @slack/bolt | Bot token + app token (Socket Mode) |
| Telegram | grammy | Bot token from @BotFather |
| WhatsApp | baileys | QR code pairing (shown in browser) |

## Agent Tools

Agents can use the following tools when enabled:

| Tool | Description |
|-|-|
| Shell | Execute commands in the session working directory |
| Files | Read, write, and list files |
| Edit File | Search-and-replace editing (exact match required) |
| Web Search | Search the web via DuckDuckGo HTML scraping |
| Web Fetch | Fetch and extract text content from URLs (uses cheerio) |
| Claude Code | Delegate complex tasks to Claude Code CLI |
| Browser | Playwright-powered web browsing via MCP |

Enable tools per-session or per-agent in the UI.

## Cost Tracking

Token usage and estimated costs are tracked per message for API-based providers (Anthropic, OpenAI). After each response, a badge in the chat header shows token count and estimated cost.

- **API endpoint:** `GET /api/usage` — returns usage summary by session and provider
- **Data:** Stored in `data/swarmclaw.db` (usage table)
- Cost estimates use published model pricing (updated manually in `src/lib/server/cost.ts`)

## Background Daemon

The daemon auto-processes queued tasks from the scheduler on a 30-second interval. Toggle it from the sidebar indicator or via API.

- **API:** `GET /api/daemon` (status), `POST /api/daemon` with `{"action": "start"}` or `{"action": "stop"}`
- Auto-starts on boot if queued tasks are found

## Embeddings & Hybrid Memory Search

Enable semantic search for agent memory by configuring an embedding provider in Settings:

- **Local (Free)** — runs `all-MiniLM-L6-v2` directly in Node.js via HuggingFace Transformers. No API key, no cost, works offline. Model downloads once (~23MB).
- **OpenAI** — uses `text-embedding-3-small` (requires API key)
- **Ollama** — uses local models like `nomic-embed-text`

When enabled, new memories get vector embeddings. Search uses both FTS5 keyword matching and cosine similarity, merging results for better recall.

## Model Failover

Agents and sessions can have **fallback credentials**. If the primary API key gets a 401, 429, or 500 error, SwarmClaw automatically retries with the next credential. Configure fallback keys in the agent builder UI.

## Plugins

Extend agent behavior with JS plugins. Three ways to install:

1. **Marketplace** — Browse and install approved plugins from Settings → Plugins → Marketplace
2. **URL** — Install from any HTTPS URL via Settings → Plugins → Install from URL
3. **Manual** — Drop `.js` files into `data/plugins/`

### Plugin Format (SwarmClaw)

```js
module.exports = {
  name: 'my-plugin',
  description: 'What it does',
  hooks: {
    beforeAgentStart: async ({ session, message }) => { /* ... */ },
    afterAgentComplete: async ({ session, response }) => { /* ... */ },
    beforeToolExec: async ({ toolName, input }) => { /* ... */ },
    afterToolExec: async ({ toolName, input, output }) => { /* ... */ },
    onMessage: async ({ session, message }) => { /* ... */ },
  },
}
```

### OpenClaw Plugin Compatibility

SwarmClaw natively supports the OpenClaw plugin format. Drop an OpenClaw plugin into `data/plugins/` and it works automatically — lifecycle hooks are mapped:

| OpenClaw Hook | SwarmClaw Hook |
|-|-|
| `onAgentStart` | `beforeAgentStart` |
| `onAgentComplete` | `afterAgentComplete` |
| `onToolCall` | `beforeToolExec` |
| `onToolResult` | `afterToolExec` |
| `onMessage` | `onMessage` |

Plugin API: `GET /api/plugins`, `POST /api/plugins`, `GET /api/plugins/marketplace`, `POST /api/plugins/install`.

## Deploy to a VPS

### Direct (pm2 + Caddy)

```bash
# On your VPS
git clone https://github.com/swarmclawai/swarmclaw.git
cd swarmclaw
npm install
npm run build

# Run with pm2
sudo npm install -g pm2
pm2 start npm --name swarmclaw -- start
pm2 save && pm2 startup
```

Point a reverse proxy (Caddy or nginx) at `localhost:3456` for TLS. See the [full deployment guide](https://swarmclaw.ai/docs/deployment).

### Docker

```bash
git clone https://github.com/swarmclawai/swarmclaw.git
cd swarmclaw
docker compose up -d
```

Data is persisted in `data/` and `.env.local` via volume mounts. Updates: `git pull && docker compose up -d --build`.

### Updating

SwarmClaw has a built-in update checker — a banner appears in the sidebar when new commits are available, with a one-click update button. Your data in `data/` and `.env.local` is never touched by updates.

## Development

```bash
npm run dev          # Dev server on 0.0.0.0:3456
npm run build        # Production build
npm run lint         # ESLint
```

The dev server binds to `0.0.0.0` so you can access it from your phone on the same network.

## Credits

- Inspired by [OpenClaw](https://github.com/openclaw)

## License

MIT
